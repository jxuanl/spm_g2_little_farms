{
  "name": "little-farms-tests",
  "version": "1.0.0",
  "description": "Automated tests for Little Farms task management system",
  "type": "module",
  "scripts": {
    "test": "cross-env NODE_ENV=test node --experimental-vm-modules node_modules/jest/bin/jest.js --detectOpenHandles --forceExit --runInBand",
    "test:users": "npm test -- backend/unit/users.test.js",
    "test:tasks": "npm test -- backend/unit/tasks.test.js",
    "test:tasks:basic": "npm test -- backend/unit/tasks.test.js",
    "test:tasks:recurring": "npm test -- backend/unit/tasks.recurring.test.js",
    "test:tasks:subtasks": "npm test -- backend/unit/tasks.subtasks.test.js",
    "test:tasks:workflow": "npm test -- backend/unit/tasks.workflow.test.js",
    "test:tasks:filter": "npm test -- backend/unit/tasks.filter.test.js",
    "test:tasks:assignee-search": "npm test -- backend/unit/tasks.assignee.search.test.js",
    "test:tasks:all": "npm test -- backend/unit/tasks.test.js backend/unit/tasks.recurring.test.js backend/unit/tasks.subtasks.test.js backend/unit/tasks.comments.test.js backend/unit/tasks.workflow.test.js backend/unit/tasks.filter.test.js backend/unit/tasks.assignee.search.test.js",
    "test:comments": "npm test -- backend/unit/comments.test.js",
    "test:projects": "npm test -- backend/unit/projects.test.js",
    "test:manager-access": "npm test -- backend/unit/manager.project.access.test.js",
    "test:reports": "npm test -- backend/unit/reportDataService.test.js backend/unit/reportData.test.js backend/unit/reportExporting.test.js backend/unit/csvReportService.test.js",
    "test:reports:data": "npm test -- backend/unit/reportDataService.test.js backend/unit/reportData.test.js",
    "test:reports:exporting": "npm test -- backend/unit/reportExporting.test.js",
    "test:reports:csv": "npm test -- backend/unit/csvReportService.test.js",
    "test:workflows": "npm test -- backend/integration/workflows.test.js",
    "test:watch": "npm test -- --watch",
    "test:coverage": "NODE_OPTIONS=--experimental-vm-modules jest --coverage --runInBand",
    "emulator": "npx firebase-tools emulators:start --only firestore,auth --project=test-project",
    "test:integration": "npx firebase-tools emulators:exec --only firestore,auth --project=test-project 'npm test'"
  },
  "jest": {
    "testEnvironment": "node",
    "transform": {},
    "moduleNameMapper": {
      "^(\\.{1,2}/.*)\\.js$": "$1"
    },
    "setupFilesAfterEnv": [
      "<rootDir>/setup/jest.setup.js"
    ],
    "setupFilesAfterEnv": [
      "<rootDir>/setup/jest.setup.js"
    ],
    "testMatch": [
      "**/backend/**/*.test.js"
    ],
    "collectCoverageFrom": [
      "../little_farms/backend/**/*.js",
      "!../little_farms/backend/node_modules/**",
      "!../little_farms/backend/serviceAccountKey.json"
    ],
    "coverageDirectory": "coverage",
    "coverageReporters": [
      "text",
      "lcov",
      "html"
    ],
    "coverageReporters": [
      "text",
      "lcov",
      "html"
    ],
    "testTimeout": 30000,
    "verbose": true
  },
  "devDependencies": {
    "@google-cloud/firestore": "^7.1.0",
    "@jest/globals": "^29.7.0",
    "cross-env": "^10.1.0",
    "express": "^4.18.2",
    "express": "^4.18.2",
    "firebase-admin": "^12.0.0",
    "firebase-tools": "^13.0.0",
    "jest": "^29.7.0",
    "supertest": "^6.3.3"
  },
  "dependencies": {
    "dotenv": "^17.2.3"
  }
}
